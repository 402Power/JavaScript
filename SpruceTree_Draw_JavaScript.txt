//-=Высоту дерева-Ель указываем в переменной "treeHeight"=-
const treeHeight = 10;
//-=Здесь можно задать ширину ствола дерева-Ель в переменной "treeWidth", но в ТЗ не было таких требований, поэтому просто дополнительная возможность=-
const treeWidth = 5;
//const treeWidth = treeHeight/3; //Альтернативный алгоритм для авто-определения ширины ствола от параметра высоты дерева-Ель "treeHeight", чтобы сохранить "приятные" пропорции при любом значении "treeHeight"

//-=Пытаемся сделать защиту от "дурака" и стабилизировать код=-
if (treeHeight < 3 || typeof treeHeight !== 'number') { //Допустимы только цифры > 2
    console.log('!!! Пожалуйста, введите данные в формате числа > 2 !!!');
    throw new Error('Некорректная высота дерева для расчета'); 
}

//-=Ветки дерева-Ель, символы: * =-
let lifeCount = 0; //Второй счетчик для чередования и обхода первого.
for (let i = 0; i < treeHeight; i++) {
    if (i % 2 !== 0 && i !== 1) { // Отсекаем все нечетные строки и первую строку, для того, чтобы каждая строка увеличивалась на 4 символа как в ТЗ
       continue; 
    }
    let lineBranch;
    let symbolsUsed = 2 * i + 1; // Вычисляем количество символов для яруса
    
    switch (i) {
        case 0:
            lineBranch = 'W'; //Уникальная_0 первая строка с буквой W - типо ёлочной звезды
            break;
        case 1:
            lineBranch = ' *'; //Уникальная_1 вторая строка с одинарным элементом; Захардкодил её с пробелом, иначе было криво, хз как исправить по-другому, надо думать, тратить времени больше...
            break;
        default:
            lineBranch = '*'.repeat(symbolsUsed); // Для всех остальных линий 
    }
    
    let spacesUsed = treeHeight - 1 - i; //Вычисляем количество пробелов, необходимых перед текущей строкой для её центрирования
    let centerSpaces = ' '.repeat(spacesUsed);
    
    //-=Распределяем линии на чётные и нечётные для того, чтобы правильно развесить ёлочные игрушки (шарики) в виде: @ =-
    let treeLine;
    switch (true) {
        case (i === 0 || i === 1):
            // Линии 1 и 2 - уникальные, без ёлочных игрушек '@' по краям
            treeLine = centerSpaces + lineBranch;
            break;
        case (lifeCount % 2 !== 0):
            // Нечётные индексы (3, 5, 7...): '@'-ёлочный шарик в конце
            treeLine = centerSpaces + lineBranch + '@';
            break;
        case (lifeCount % 2 === 0):
            // Чётные индексы (2, 4, 6...): '@'-ёлочный шарик в начале
            treeLine = centerSpaces + '@' + lineBranch;
            break;
    }
    console.log(treeLine); //Рисуем наши ёлочные "слои"
    lifeCount++; //Запускаем наш второй счетчик, для отрисовки
}

// Расчет ствола зависит от переменной "treeHeight", заданной в начале программы
let trunkSpacesUsed = treeHeight - 1 - Math.floor(treeWidth / 2); //Вычисляем количество пробелов, необходимых для центрирования ствола под центром кроны
let trunkSpaces = ' '.repeat(trunkSpacesUsed);
let trunkTree = 'T'.repeat(treeWidth); //Выбираем любой символ для постройки ствола дерева-Ели, выбрал по ТЗ букву "Т"
let treeTrunkLine = trunkSpaces + trunkTree;
console.log(treeTrunkLine); //Первая линия ствола
console.log(treeTrunkLine); //Хардкодим вторую линию ствола, в ТЗ про ствол ни слова, только про этажи дерева-Ели